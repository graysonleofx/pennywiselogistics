(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{221:(e,r,t)=>{Promise.resolve().then(t.bind(t,5157))},4791:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(5647).UU)("https://gumaejsjmvhpgidhjqhv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd1bWFlanNqbXZocGdpZGhqcWh2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNDU0MDMsImV4cCI6MjA2NzYyMTQwM30.tqHoglhrFRIAH2TWZx_0QIXR72pJ7e6PRTyWZTSw5ck")},5157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(5155),a=t(2115),l=t(6874),i=t.n(l),n=t(4791);function o(e){let{onLogin:r}=e,[t,l]=(0,a.useState)({email:"",password:""}),[i,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),m=async e=>{if(e.preventDefault(),!r)throw Error("onLogin function is required");if(!i){if(d&&c(""),""===t.email||""===t.password)return void c("Please fill in all fields");if("admin@admin.com"!==t.email)return void c("Invalid email or password");if("admin123"!==t.password)return void c("Invalid email or password");try{let{data:e,error:s}=await n.A.auth.signInWithPassword({email:t.email,password:t.password});if(s){c("Invalid email or password",s.message),o(!1);return}r()}catch(e){console.error("Error during login:",e),c("An error occurred during login. Please try again later."),o(!1);return}}},u=e=>{let{name:r,value:t}=e.target;l(e=>({...e,[r]:t}))};return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] px-4",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("i",{className:"ri-admin-line text-orange-500 text-2xl"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Admin Login"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Access the shipment management dashboard"})]}),d&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-error-warning-line text-red-500 text-xl mr-2"}),d]})}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"text",name:"email",value:t.email,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"Enter email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",value:t.password,onChange:u,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"Enter password"})]}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 text-white py-3 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:i?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Signing In..."]}):"Sign In"})]})]})})})}function d(e){let{onLogout:r}=e,[t,l]=(0,a.useState)("overview"),[i,o]=(0,a.useState)([{id:"LGS001",customer:"ABC Corporation",origin:"Shanghai Port",destination:"New York Port",status:"In Transit",created:"2024-01-15",estimated:"2024-01-25"},{id:"LGS002",customer:"XYZ Industries",origin:"Hamburg Port",destination:"Miami Warehouse",status:"Delivered",created:"2024-01-10",estimated:"2024-01-20"}]),[d,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(""),[x,g]=(0,a.useState)({totalUsers:0}),[h,p]=(0,a.useState)({totalShipments:0,inTransit:0,delivered:0,processing:0});(0,a.useEffect)(()=>{(async()=>{let{data:e,error:r}=await n.A.from("Users").select("*");if(r)return console.error("Error fetching users:",r);let t=e.length;c(e),g({totalUsers:t})})()},[d]),(0,a.useEffect)(()=>{(async()=>{let{data:e,error:r}=await n.A.from("Shipments").select("*");if(r)return console.error("Error fetching shipments:",r);let t=e.length,s=e.filter(e=>"In Transit"===e.status).length;p({totalShipments:t,inTransit:s,delivered:e.filter(e=>"Delivered"===e.status).length,processing:e.filter(e=>"Package Received"===e.status).length})})()},[i]),(0,a.useEffect)(()=>{(async()=>{let{data:e,error:r}=await n.A.from("Users").select("id, email");r?console.error("Error fetching users:",r):c(e)})()},[]);let[f,b]=(0,a.useState)({fullname:"",email:"",password:""}),[y,v]=(0,a.useState)({receiverName:"",senderName:"",receiverEmail:"",from:"",to:"",estimatedDelivery:"",description:"",weight:""}),j=()=>{let e=Math.floor(9e3*Math.random())+1e3;return"".concat("PWL-").concat(e)},[N,w]=(0,a.useState)(null),[S,k]=(0,a.useState)({from:"",date:""}),[E,D]=(0,a.useState)({}),I=e=>{w(e.id),k({from:e.from||"",date:e.routeDate||e.created||""})},C=e=>e?new Date(e).toISOString().split("T")[0]:"",A=async e=>{let{from:r,date:t,newStatus:s}=S,{data:a,error:l}=await n.A.from("Shipments").update({from:r,status:s,currentDate:C(t)}).eq("id",e).select();if(l)return void alert("Failed to update route.");o(a=>a.map(a=>a.id===e?{...a,from:r,currentDate:C(t),newStatus:s}:a)),w(null),k({from:"",date:""}),console.log("Saving route with status:",s),s&&""!==s.trim()&&(await T(e,{status:s,currentDate:C(t),completed:!1}),console.log({from:r,newStatus:s,date:t}))},P=async e=>{e.preventDefault();let r={fullname:f.fullname,email:f.email,password:f.password};if(!r.fullname||!r.email||!r.password)return void alert("Please fill in all fields");if(r.password.length<6)return void alert("Password must be at least 6 characters long");if(!r.email.includes("@"))return void alert("Invalid email format");try{var t;let{data:e,error:s}=await n.A.auth.signUp({email:r.email,password:r.password});if(e&&e.user&&await n.A.from("Users").insert([{id:e.user.id,fullname:e.user.fullname,email:e.user.email}]),s)if(s.message.includes("User already registered"))return void alert("User already exists. Please try a different email.");else if(s.message.includes("Invalid email"))alert("Invalid email format. Please enter a valid email address.");else{console.error("Error creating user:",s),b({fullname:"",email:"",password:""}),alert("An error occurred while creating the user. Please try again later.");return}let{data:a,error:l}=await n.A.from("Users").upsert([{id:null==e||null==(t=e.user)?void 0:t.id,fullname:r.fullname,email:r.email}]);if(l){console.error("Error inserting user:",l),alert("An error occurred while inserting the user. Please try again later.");return}console.log("User created successfully:",a)}catch(e){console.error("Error during user creation:",e),alert("An error occurred while creating the user. Please try again later.");return}alert("User created successfully!"),b({fullName:"",email:"",password:""})},U=async e=>{e.preventDefault();let r=j(),t={id:r,receiverName:y.receiverName,senderName:y.senderName,receiverEmail:m,description:y.description,weight:y.weight,from:y.from,to:y.to,status:"Package Recieved",created:new Date().toISOString().split("T")[0],estimatedDelivery:y.estimatedDelivery,timeline:[]},{data:s,error:a}=await n.A.from("Shipments").insert([t]).select();if(a||!s||0===s.length){console.error("Error creating shipment:",a),alert("Failed to create shipment. Please try again.");return}o(e=>[s[0],...e]),v({receiverName:"",senderName:"",receiverEmail:"",description:"",weight:"",from:"",to:"",estimatedDelivery:"",trackingId:r,created:new Date().toISOString().split("T")[0]}),alert("Shipment created successfully! Tracking ID: ".concat(r)),await T(r,{status:"Packaged Recieved",currentDate:new Date().toISOString().split("T")[0],completed:!0});let l={receiverName:t.receiverName,senderName:t.senderName,receiverEmail:t.receiverEmail,description:t.description,weight:t.weight,from:t.from,to:t.to,estimatedDelivery:t.estimatedDelivery,status:t.status,trackingUrl:"pennywiselogistics.online/track/".concat(r)};try{let e=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.receiverEmail,trackingId:r,shipmentDetails:l})}),s=await e.json();s.success?(console.log("Email sent successfully:",s),alert("Email notification sent successfully!")):console.error("Error sending email:",s)}catch(e){console.error("Error sending email:",e),alert("Failed to send email notification. Please try again later.")}},T=async(e,r)=>{let{data:t,error:s}=await n.A.from("Shipments").select("timeline").eq("id",e).maybeSingle();if(!t){console.error("No Shippment found for tracking ID:",e),alert("Shipment not Found");return}if(s){console.error("Error fetching shipment timeline:",s),alert("Failed to fetch shipment timeline. Please try again.");return}let a=Array.isArray(null==t?void 0:t.timeline)?t.timeline:[];console.log("Adding ");let l=[...a,r],{data:i,error:d}=await n.A.from("Shipments").update({timeline:l}).eq("id",e).select();if(d){console.error("Error updating shipment timeline:",d),alert("Failed to update shipment timeline. Please try again.");return}o(r=>r.map(r=>r.id===e?{...r,timeline:i[0].timeline}:r))};(0,a.useEffect)(()=>{(async()=>{let{data:e,error:r}=await n.A.from("Shipments").select("*");r?console.error("Error fetching shipments:",r):o(e)})()},[]),(0,a.useEffect)(()=>{(async()=>{let{data:e,error:r}=await n.A.from("Users").select("*");r?console.error("Error fetching users:",r):c(e)})()},[]);let q=e=>{let{name:r,value:t}=e.target;b(e=>({...e,[r]:t}))},F=e=>{let{name:r,value:t}=e.target;v(e=>({...e,[r]:t}))},O=async(e,r)=>{D(t=>({...t,[e]:r}));let t={status:r,currentDate:new Date().toISOString().split("T")[0],completed:"Delivered"===r},{error:s}=await n.A.from("Shipments").update({status:r}).eq("id",e).select();if(s)return void alert("Failed to update shipment status. Please try again.");o(t=>t.map(t=>t.id===e?{...t,status:r}:t)),await T(e,t),alert("Shipment status updated to ".concat(r))},R=[{label:"Total Users",value:x.totalUsers,icon:"ri-user-line",color:"bg-blue-500"}],L=[{label:"Total Shipments",value:h.totalShipments,icon:"ri-truck-line",color:"bg-blue-500"},{label:"In Transit",value:h.inTransit,icon:"ri-road-map-line",color:"bg-orange-500"},{label:"Delivered",value:h.delivered,icon:"ri-check-line",color:"bg-green-500"},{label:"Processing",value:h.processing,icon:"ri-time-line",color:"bg-yellow-500"}];return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Admin Dashboard"}),(0,s.jsxs)("button",{onClick:r,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-medium transition-colors whitespace-nowrap cursor-pointer",children:[(0,s.jsx)("i",{className:"ri-logout-circle-line mr-2"}),"Logout"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[R.map((e,r)=>(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:e.label}),(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:e.value})]}),(0,s.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center"),children:(0,s.jsx)("i",{className:"".concat(e.icon," text-white text-xl")})})]})},r)),L.map((e,r)=>(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:e.label}),(0,s.jsx)("p",{className:"text-2xl font-bold text-slate-800",children:e.value})]}),(0,s.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-lg flex items-center justify-center"),children:(0,s.jsx)("i",{className:"".concat(e.icon," text-white text-xl")})})]})},r))]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg",children:[(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,s.jsx)("button",{onClick:()=>l("users"),className:"py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("users"===t?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Registered Users"}),(0,s.jsx)("button",{onClick:()=>l("overview"),className:"py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("overview"===t?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Shipments Overview"}),(0,s.jsx)("button",{onClick:()=>l("register"),className:"py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("register"===t?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Add User"}),(0,s.jsx)("button",{onClick:()=>l("create"),className:"py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ".concat("create"===t?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Create Shipment"})]})}),(0,s.jsxs)("div",{className:"p-6",children:["users"===t&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"All Registered Users"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Users"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Full Name"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Created"})]})}),(0,s.jsx)("tbody",{children:d.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-4 px-4",children:e.email}),(0,s.jsx)("td",{className:"py-4 px-4 text-sm font-medium text-slate-800",children:e.fullname||"N/A"}),(0,s.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600",children:e.created_at})]},e.id))})]})})]}),"overview"===t&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"All Shipments"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Tracking ID"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Customer"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Route"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Created"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:i.map(e=>{let r=N===e.id;return(0,s.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-4 px-4 font-mono text-sm",children:e.id}),(0,s.jsx)("td",{className:"py-4 px-4",children:e.receiverEmail}),(0,s.jsx)("td",{className:"py-4 px-4 text-sm",children:r?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("input",{type:"text",value:S.from,onChange:e=>k(r=>({...r,from:e.target.value})),className:"border border-gray-300 rounded px-2 py-1 text-sm mb-1",placeholder:"Current Location"}),(0,s.jsx)("input",{type:"date",value:C(S.date),onChange:e=>k(r=>({...r,date:e.target.value})),className:"border border-gray-300 rounded px-2 py-1 text-sm",placeholder:"Date"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:e.from}),(0,s.jsxs)("div",{className:"text-gray-500",children:["→ ",e.to]}),(0,s.jsx)("div",{className:"text-gray-500 text-xs",children:e.currentDate})]})}),(0,s.jsx)("td",{className:"py-4 px-4",children:(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("Delivered"===e.status?"bg-green-100 text-green-800":"In Transit"===e.status?"bg-orange-100 text-orange-800":"Processing"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,s.jsx)("td",{className:"py-4 px-4 text-sm text-gray-600",children:e.created||e.currentDate}),(0,s.jsxs)("td",{className:"py-4 px-4 flex flex-col gap-2",children:[(0,s.jsxs)("select",{value:e.status,onChange:r=>O(e.id,r.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 pr-8 mb-2",children:[(0,s.jsx)("option",{value:"Package Received",children:"Package Created"}),(0,s.jsx)("option",{value:"In Transit",children:"In Transit"}),(0,s.jsx)("option",{value:"Out for Delivery",children:"Out for Delivery "}),(0,s.jsx)("option",{value:"Delivered",children:"Delivered"})]}),r?(0,s.jsx)("button",{className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>A(e.id),children:"Save"}):(0,s.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>I(e),children:"Edit"})]})]},e.id)})})]})})]}),"register"===t&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Add User"}),(0,s.jsxs)("form",{onSubmit:P,className:"max-w-2xl",children:[(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"fullname",value:f.fullname,onChange:q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"John Doe"})]})}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"text",name:"email",value:f.email,onChange:q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"johndeo@gmail.com"})]})}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",value:f.password,onChange:q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"********"})]})}),(0,s.jsxs)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:[(0,s.jsx)("i",{className:"ri-add-line mr-2"}),"Add User"]})]})]}),"create"===t&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Create New Shipment"}),(0,s.jsxs)("form",{onSubmit:U,className:"max-w-2xl",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recievers Name"}),(0,s.jsx)("input",{type:"text",name:"receiverName",value:y.receiverName,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"John Deo"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senders Name"}),(0,s.jsx)("input",{type:"text",name:"senderName",value:y.senderName,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"Micheal Leo"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Recievers Email"}),(0,s.jsxs)("select",{value:m,onChange:e=>u(e.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",children:[(0,s.jsx)("option",{value:"",children:"Select a User"}),d.map(e=>(0,s.jsx)("option",{value:e.email,children:e.email},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Description"}),(0,s.jsx)("input",{type:"text",name:"description",value:y.description,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"Electronics"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From (Current Location)"}),(0,s.jsx)("input",{type:"text",name:"from",value:y.from,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"Shanghai Port"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To (Arrival)"}),(0,s.jsx)("input",{type:"text",name:"to",value:y.to,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"New York Port"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg)"}),(0,s.jsx)("input",{type:"number",name:"weight",value:y.weight,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm",placeholder:"1000"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Delivery"}),(0,s.jsx)("input",{type:"date",name:"estimatedDelivery",value:y.estimatedDelivery,onChange:F,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none text-sm"})]})]}),(0,s.jsxs)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors whitespace-nowrap cursor-pointer",children:[(0,s.jsx)("i",{className:"ri-add-line mr-2"}),"Create Shipment"]})]})]})]})]})]})}function c(){let[e,r]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{let{data:e,error:t}=await n.A.auth.getSession();if(t){console.error("Error fetching session:",t),r(!1);return}if(!e.session){console.log("No active session found"),r(!1);return}let{data:{user:s},error:a}=await n.A.auth.getUser();if(a){console.error("Error fetching user data:",a),r(!1);return}})()},[]);let t=(0,a.useCallback)(()=>{r(!0)},[]),l=(0,a.useCallback)(()=>{r(!1)},[]);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(i(),{href:"/",className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)("i",{className:"ri-truck-line text-white text-xl"})}),(0,s.jsxs)("h1",{className:"text-2xl font-bold text-slate-800",style:{fontFamily:"Roboto, serif"},children:["PENNY",(0,s.jsx)("span",{style:{color:"#fb923c"},children:"WISE"})]})]}),(0,s.jsx)("span",{className:"text-gray-600 font-medium",children:"Admin Portal"})]})})}),e?(0,s.jsx)(d,{onLogout:l}):(0,s.jsx)(o,{onLogin:t})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[874,647,441,684,358],()=>r(221)),_N_E=e.O()}]);